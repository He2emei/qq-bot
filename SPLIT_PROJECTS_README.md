# QQ机器人项目拆分说明

## 📋 拆分概述

原有`qq_bot`项目已成功拆分为三个独立的项目，满足不同用户组的功能需求：

1. **buyer_bot/** - 买家专用AQL验证器
2. **mc_bot/** - MC社团专用机器人
3. **personal_bot/** - 个人使用机器人（待创建）

## 🏗️ 项目架构图

```
原项目 (qq_bot/)
    │
    ├── 全部功能合集
    │
    └── 拆分成三个独立项目：

    ├── buyer_bot/          # 🔵 买家专用
    │   ├── AQL验证器功能
    │   ├── 端口: 7777
    │   └── 支持群: 买家相关群聊
    │
    ├── mc_bot/             # 🟢 MC社团专用
    │   ├── FAQ系统
    │   ├── 机器查询/管理
    │   ├── 端口: 7776
    │   └── 支持群: MC社团专用群
    │
    └── personal_bot/       # 🟡 个人使用 (规划中)
        ├── AQL + 游戏 + @功能
        ├── 日记 + 问答管理
        ├── MC内容管理
        ├── 端口: 7778
        └── 支持群: 个人所有群聊
```

## 📁 已完成的项目

### ✅ buyer_bot/ - 买家专用AQL验证器

**功能包括**：
- `.aql` / `#aql` - 获取验证码
- `.aqladd` / `#aqladd` - 添加验证器
- 支持JJL测试群、JJL正式群、GL群

**技术特点**：
- 精简架构，专注AQL功能
- 独立配置文件和数据文件
- 针对性优化，性能更佳

**使用方法**：
1. `cd buyer_bot/`
2. `pip install -r requirements.txt`
3. `python app.py`

### ✅ mc_bot/ - MC社团专用机器人

**功能包括**：
- **FAQ系统**: `#faq` 系列命令，支持图片
- **机器查询**: `#machine_search`, `#machine_region` 等
- **机器管理**: `#machine_add`, `#machine_update`, `#machine_delete`

**技术实现**：
- SQLite数据库支持
- Notion API集成（机器数据）
- 图片存储和管理
- 权限控制机制

**使用方法**：
1. `cd mc_bot/`
2. `pip install -r requirements.txt`
3. `python app.py`

## 🏗️ 规划中的项目

### 📋 personal_bot/ - 个人使用机器人

**计划功能**：
- AQL功能（与buyer_bot相同，但独立运行）
- 游戏管理功能
- @功能
- 日记功能
- 问答系统
- 个人MC内容管理

**当前状态**: 项目结构规划中

## 🚀 部署指南

### 独立部署
每个项目都可以独立部署：

```bash
# 终端1: 买家专用
cd buyer_bot && python app.py

# 终端2: MC社团专用
cd mc_bot && python app.py

# 终端3: 个人使用 (待创建)
cd personal_bot && python app.py
```

### 端口分配
- buyer_bot: 端口 7777
- mc_bot: 端口 7776
- personal_bot: 端口 7778

### 配置隔离
每个项目使用独立的配置文件，确保数据 private 和配置互不影响。

## 🔒 安全与权限

### 数据隔离
- 买家数据与MC社团数据完全隔离
- 个人数据独立管理
- 所有项目使用不同的数据库文件

### 权限控制
- buyer_bot: 仅支持买家相关群聊
- mc_bot: 仅限MC社团成员访问
- personal_bot: 支持所有个人群聊

## 📊 优势分析

### ✅ 已实现优势
1. **完全分离** - 三个项目互不依赖，独立运行
2. **功能专一** - 每个项目只包含目标用户需要功能
3. **维护便利** - 独立维护，更新互不影响
4. **部署灵活** - 可在不同服务器上部署不同项目
5. **性能优化** - 减少不必要功能，提升响应速度

### 📈 扩展性优势
1. **新功能开发** - 可针对特定用户组开发专用功能
2. **版本管理** - 独立版本管理，灵活发布
3. **测试隔离** - 各项目独立测试，不会相互影响

## 🔧 技术说明

### 核心技术栈
- **框架**: Flask + Python
- **存储**: SQLite + JSON
- **API**: Notion API + 第三方服务
- **部署**: 独立进程

### 依赖关系
- buyer_bot: 最精简，仅必需功能
- mc_bot: 中等复杂度，包含数据库操作
- personal_bot: 最全面，包含所有原有功能

## 🎯 使用场景

### 场景1: 买家专用服务
部署 `buyer_bot`，仅提供AQL验证器服务，满足终端用户验证码需求。

### 场景2: MC社团内部管理
部署 `mc_bot`，提供FAQ知识库和机器信息管理系统。

### 场景3: 个人全功能使用
部署 `personal_bot`，包含所有个人需要的功能。

## 📝 后续计划

1. **完成 personal_bot 项目创建**
2. **完善各项目的单元测试**
3. **优化部署脚本和文档**
4. **考虑容器化部署支持**

## 📞 技术支持

项目已完全独立化，每个项目都有独立的支持途径：
- buyer_bot: 买家服务支持
- mc_bot: MC社团技术支持
- personal_bot: 个人技术维护

---

**拆分状态**: ✅ buyer_bot 完成, ✅ mc_bot 完成, 📋 personal_bot 规划中
**维护方式**: 各个项目独立维护，互不影响